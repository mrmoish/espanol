<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESPAÑOL</title>
    <style>
        body {
            height: 100vh; /* Высота страницы 100% от видимой области */
            display: flex; /* Используем flexbox для центровки */
            text-align: center; /* Центрируем по горизонтали */
            align-items: center; /* Центрируем по вертикали */
            font-family: Tahoma, sans-serif; /* Устанавливаем шрифт Tahoma */
            font-size: 3em; /* Размер шрифта */
        }
    </style>
</head>
<body>
    <div id="display">Hola!</div>
    <script>


// Список глаголов
let verbs = [];
loadVerbs(); // Загружаем глаголы в массив

let flag = 0; // Флаг для отслеживания состояния отображения глаголов

let answer; // Переменная для хранения правильного ответа

// Обработчик клика на всей странице
document.addEventListener("click", function(event) {
    // При клике на любой элемент документа выполняем действия в зависимости от текущего состояния (flag)

    switch (flag) {
        case 0:
            // Первое состояние: показываем случайный глагол
            flag = 1; // Переходим к следующему состоянию
            displayRandomVerb(); // Вызываем функцию для отображения случайного глагола
            break;

        case 1:
            // Второе состояние: показываем случайный верный и неверный глагол
            flag = 2; // Переходим к следующему состоянию

            // Генерируем случайный индекс в пределах массива verbs
            const randomIndex = Math.floor(Math.random() * verbs.length);

            // Извлекаем строку по сгенерированному индексу
            let falseVerb = verbs[randomIndex].split('–')[1]; // Получаем неверный глагол
            let trueVerb = answer.split('–')[1]; // Получаем верный глагол

            // Случайным образом определяем порядок отображения глаголов
            if (Math.floor(Math.random() * 2)) {
                document.getElementById("display").textContent = trueVerb + ' или ' + falseVerb; // Верный глагол первым
            } else {
                document.getElementById("display").textContent = falseVerb + ' или ' + trueVerb; // Неверный глагол первым
            }
            break;

        default:
            // Состояние по умолчанию: отображаем правильный ответ
            flag = 0; // Сбрасываем флаг
            document.getElementById("display").textContent = answer; // Показываем правильный глагол
            break;
    }
});


    // Функция для выбора и отображения случайного глагола из списка verbs
    function displayRandomVerb() {
        // Проверяем, что в массиве verbs есть хотя бы один элемент
        if (verbs.length > 0) {
            // Генерируем случайный индекс в пределах массива verbs
            const randomIndex = Math.floor(Math.random() * verbs.length);

            // Извлекаем строку по сгенерированному индексу
            answer = verbs[randomIndex];

            // Разделяем строку на части по символу "–" и сохраняем первую часть в result
            const result = answer.split('–');

            // Выводим первую часть строки (например, глагол) в элемент с id="id33"
            document.getElementById("display").textContent = result[0];
        }
    }

    // Функция для загрузки файла с глаголами
    function loadVerbs() {
        // Используем fetch для загрузки файла с сервера
        fetch('verbs')
            .then(response => {
                // Проверяем, успешно ли загрузился файл
                if (!response.ok) throw new Error("Ошибка загрузки файла");
                // Если загрузка успешна, возвращаем содержимое как текст
                return response.text();
            })
            .then(content => {
                // Разбиваем загруженное содержимое на массив строк по символу новой строки
                const lines = content.split("\n");

                // Фильтруем массив, оставляя только непустые строки (удаляем строки, которые содержат только пробелы)
                verbs = lines.filter(line => line.trim() !== "");
            })
            // Обрабатываем ошибки, если загрузка не удалась, и выводим их в консоль
            .catch(error => console.error("Ошибка:", error));
    }
    </script>
</body>
</html>